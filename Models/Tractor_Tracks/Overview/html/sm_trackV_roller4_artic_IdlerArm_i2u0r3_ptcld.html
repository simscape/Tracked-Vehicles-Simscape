<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      -->
<title>Belt Tracks (Four), Roller Contact Point Cloud with Articulated Steering</title>
<meta name="generator" content="MATLAB 23.2">
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/">
<meta name="DC.date" content="2024-03-19">
<meta name="DC.source" content="sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld.m">
<style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; }

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, code { font-size:12px; }
tt { font-size: 1.2em; }
pre { margin:0px 0px 20px; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
pre.error { color:red; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }
span.typesection { color:#A0522D }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style>
</head>
<body>
<div class="content">
<h1>Belt Tracks (Four), Roller Contact Point Cloud with Articulated Steering</h1>
<!--introduction-->
<p>
<img vspace="5" hspace="5" src="sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld_terrain_Overview.png" alt=""> </p>
<p>(<a href="matlab:web('Tracked_Vehicle_Simscape_Overview.html')">return to Tracked Vehicle Model with Simscape Overview</a>)</p>
<p>This example models a tracked vehicle with a rubber belts in an abstract manner. Contact between the track and the ground is modeled using a point cloud on the rollers and idlers. The point cloud radius includes the depth of the belt. This method permits significantly faster simulation for it is far simpler than modeling each segment of the track and all the contact forces with the undercarriage and ground. Contact forces are modeled using the <a href="https://www.mathworks.com/help/sm/ref/spatialcontactforce.html">Spatial Contact Force block</a>.</p>
<p>The track can be tested on uneven terrain, slope, and a flat plane. The sprocket is driven with a flexible driveshaft. The articulated chassis (joint in the middle) permits steering.</p>
<!--/introduction-->
<h2>Contents</h2>
<div>
<ul>
<li>
<a href="#1">Model</a>
</li>
<li>
<a href="#2">Track Subsystem</a>
</li>
<li>
<a href="#3">Rollers Subsystem</a>
</li>
<li>
<a href="#4">Lower Roller Subsystem</a>
</li>
<li>
<a href="#5">Track Subsystem</a>
</li>
<li>
<a href="#6">Simulation Results: Terrain Test, Fixed Frame Pivot</a>
</li>
<li>
<a href="#8">Simulation Results: Terrain Test, Revolute Frame Pivot</a>
</li>
<li>
<a href="#10">Simulation Results: Slope Test</a>
</li>
<li>
<a href="#12">Simulation Results: Plane Test</a>
</li>
</ul>
</div>
<h2 id="1">Model</h2>
<p>In this example, four tracks are modeled along with the chassis.</p>
<p>
<a href="matlab:open_system('sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld');">Open Model</a>
</p>
<img vspace="5" hspace="5" src="sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld_01.png" alt=""> <h2 id="2">Track Subsystem</h2>
<p>The track is composed of the undercarriage and a visual element to represent the track segments which includes parameters for the assumed mass, inertia, and CG of the belt segments. The undercarriage contains the rollers, sprocket, and two idlers. Everything is rigidly attached to the frame except one idler is attached to an arm which can pivot slightly. Contact geometry (point clouds) in the undercarriage subsystem connect via a Simscape bus to <a href="https://www.mathworks.com/help/sm/ref/spatialcontactforce.html">Spatial Contact Force block</a> to model ground contact.</p>
<p>
<a href="matlab:open_system('sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld');open_system('sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld/Track%20L','force');">Open Subsystem</a>
</p>
<img vspace="5" hspace="5" src="sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld_02.png" alt=""> <h2 id="3">Rollers Subsystem</h2>
<p>This subsystem models the rollers, idler, and sprocket. They each can rotate around shafts attached to the lower frame. One idler is attached to an arm which can pivot slightly.</p>
<p>The sprocket joint interfaces to 1D mechanical rotational port. This represents a mechanical shaft connection to the sprocket. It can be attached to Simscape models of gears, hydrostatic transmissions, and electric motors.</p>
<p>The bus of connections at port R contains the connections to the geometry that is used to model contact with the ground. The rollers and idlers have point clouds whose radius includes the depth of the track.</p>
<p>
<a href="matlab:open_system('sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld');open_system('sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld/Track%20L/Undercarriage/Rollers','force');">Open Subsystem</a>
</p>
<img vspace="5" hspace="5" src="sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld_03.png" alt=""> <h2 id="4">Lower Roller Subsystem</h2>
<p>The lower rollers, sprocket, and idler contain a solid to represent the inertial properties. The rollers and idler include a point cloud to model contact with the ground, and a visual element to animate the part spinning in the model.</p>
<p>
<a href="matlab:open_system('sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld');open_system('sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld/Track%20L/Undercarriage/Rollers/Roller%20Lower%201','force');">Open Subsystem</a>
</p>
<img vspace="5" hspace="5" src="sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld_04.png" alt=""> <h2 id="5">Track Subsystem</h2>
<p>The track is modeled as a solid. It provides a visual indication of where the track segements would be. It also includes mass and inertia properties which can be parameterized to match the full set of track segments.</p>
<p>
<a href="matlab:open_system('sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld');open_system('sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld/Track%20L/Track','force');">Open Subsystem</a>
</p>
<img vspace="5" hspace="5" src="sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld_05.png" alt=""> <h2 id="6">Simulation Results: Terrain Test, Fixed Frame Pivot</h2>
<p>Below are the simulation results from a test where the track is driven over a hilly terrain. The terrain is defined using the <a href="https://www.mathworks.com/help/releases/R2023a/sm/ref/gridsurface.html">Grid Surface block</a>. An STL file was imported and interpolation was used to create a regular grid composed of 100x100 points.</p>
<pre class="codeoutput">Elapsed Sim Time = 33.9005
</pre>
<img vspace="5" hspace="5" src="sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld_06.png" alt=""> <img vspace="5" hspace="5" src="sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld_07.png" alt=""> <img vspace="5" hspace="5" src="sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld_08.png" alt=""> <img vspace="5" hspace="5" src="sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld_09.png" alt=""> <h2 id="8">Simulation Results: Terrain Test, Revolute Frame Pivot</h2>
<p>We repeat the same test but modify the track frames so that the rollers and idler can pivot with respect to the chassis.</p>
<pre class="codeoutput">Elapsed Sim Time = 31.143
</pre>
<img vspace="5" hspace="5" src="sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld_10.png" alt=""> <h2 id="10">Simulation Results: Slope Test</h2>
<p>Below are the simulation results from a test where the track is driven up a slope. The slope was defined using a MATLAB function. This would let us easily sweep the grade of the slope to determine when the design would no longer meet requirements. The terrain is defined using the <a href="https://www.mathworks.com/help/releases/R2023a/sm/ref/gridsurface.html">Grid Surface block</a>.</p>
<pre class="codeoutput">Elapsed Sim Time = 30.8785
</pre>
<img vspace="5" hspace="5" src="sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld_11.png" alt=""> <img vspace="5" hspace="5" src="sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld_12.png" alt=""> <img vspace="5" hspace="5" src="sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld_13.png" alt=""> <h2 id="12">Simulation Results: Plane Test</h2>
<p>Below are the simulation results from a test where the track is driven on a flat plane. The front tracks are steered using Ackermann steering angles, and the drive speed of all four tracks are modified based on the steering angle so that the tractor drives in a circular curve.</p>
<pre class="codeoutput">Elapsed Sim Time = 64.0076
</pre>
<img vspace="5" hspace="5" src="sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld_14.png" alt=""> <img vspace="5" hspace="5" src="sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld_15.png" alt=""> <img vspace="5" hspace="5" src="sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld_16.png" alt=""> <p class="footer">Copyright 2023-2024 The MathWorks, Inc.<br>
<a href="https://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2023b</a>
<br>
</p>
</div>
<!--
##### SOURCE BEGIN #####
%% Belt Tracks (Four), Roller Contact Point Cloud with Articulated Steering
% 
% <<sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld_terrain_Overview.png>>
%
% (<matlab:web('Tracked_Vehicle_Simscape_Overview.html') return to Tracked Vehicle Model with Simscape Overview>)
%
% This example models a tracked vehicle with a rubber belts in an abstract
% manner. Contact between the track and the ground is modeled using a point
% cloud on the rollers and idlers. The point cloud radius
% includes the depth of the belt. This method permits significantly faster
% simulation for it is far simpler than modeling each segment of the track
% and all the contact forces with the undercarriage and ground.  Contact
% forces are modeled using the <https://www.mathworks.com/help/sm/ref/spatialcontactforce.html Spatial Contact Force block>.
% 
% The track can be tested on uneven terrain, slope, and a flat plane. The
% sprocket is driven with a flexible driveshaft.  The articulated chassis
% (joint in the middle) permits steering.
%
% Copyright 2023-2024 The MathWorks, Inc.

%% Model
%
% In this example, four tracks are modeled along with the chassis. 
%
% <matlab:open_system('sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld'); Open Model>

open_system('sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld')

set_param(find_system('sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld','FindAll', 'on','type','annotation','Tag','ModelFeatures'),'Interpreter','off')

%% Track Subsystem
%
% The track is composed of the undercarriage and a visual element to
% represent the track segments which includes parameters for the assumed
% mass, inertia, and CG of the belt segments.  The undercarriage contains
% the rollers, sprocket, and two idlers. Everything is rigidly attached to
% the frame except one idler is attached to an arm which can pivot
% slightly. Contact geometry (point clouds) in the undercarriage subsystem
% connect via a Simscape bus to
% <https://www.mathworks.com/help/sm/ref/spatialcontactforce.html Spatial
% Contact Force block> to model ground contact.
% 
% <matlab:open_system('sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld');open_system('sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld/Track%20L','force'); Open Subsystem>

set_param('sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld/Track FL','LinkStatus','none')
open_system('sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld/Track FL','force')

%% Rollers Subsystem
%
% This subsystem models the rollers, idler, and sprocket.  They each can
% rotate around shafts attached to the lower frame. One idler is
% attached to an arm which can pivot slightly.
%
% The sprocket joint interfaces to 1D mechanical rotational port.  This
% represents a mechanical shaft connection to the sprocket. It can be
% attached to Simscape models of gears, hydrostatic transmissions, and
% electric motors.
%
% The bus of connections at port R contains the connections to the geometry
% that is used to model contact with the ground.  The rollers and idlers
% have point clouds whose radius includes the depth of the track.
%
% <matlab:open_system('sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld');open_system('sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld/Track%20L/Undercarriage/Rollers','force'); Open Subsystem>

set_param('sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld/Track FL/Undercarriage','LinkStatus','none')
set_param('sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld/Track FL/Undercarriage/Rollers','LinkStatus','none')
open_system('sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld/Track FL/Undercarriage/Rollers','force')

%% Lower Roller Subsystem
%
% The lower rollers, sprocket, and idler contain a solid to represent the
% inertial properties. The rollers and idler include a point cloud to model
% contact with the ground, and a visual element to animate the part
% spinning in the model.
%
% <matlab:open_system('sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld');open_system('sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld/Track%20L/Undercarriage/Rollers/Roller%20Lower%201','force'); Open Subsystem>

set_param('sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld/Track FL/Undercarriage/Rollers/Roller Lower 1','LinkStatus','none')
open_system('sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld/Track FL/Undercarriage/Rollers/Roller Lower 1','force')


%% Track Subsystem
%
% The track is modeled as a solid. It provides a visual indication of where
% the track segements would be.  It also includes mass and inertia
% properties which can be parameterized to match the full set of track
% segments.
%
% <matlab:open_system('sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld');open_system('sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld/Track%20L/Track','force'); Open Subsystem>

set_param('sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld/Track FL/Track','LinkStatus','none')
open_system('sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld/Track FL/Track','force')

%% Simulation Results: Terrain Test, Fixed Frame Pivot
%%
%
% Below are the simulation results from a test where the track is driven
% over a hilly terrain.  The terrain is defined using the
% <https://www.mathworks.com/help/releases/R2023a/sm/ref/gridsurface.html
% Grid Surface block>. An STL file was imported and interpolation was used to create a
% regular grid composed of 100x100 points.
%

stl_to_gridsurface('hills_terrain.stl',100,100,'plot');

set_param('sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld/Scene','LabelModeActiveChoice','Terrain');
set_param([bdroot '/Steer On'],'Gain','1')
set_param([bdroot '/Track FL'],'popup_sense_roller','Actuator Torque')
set_param([bdroot '/Track FR'],'popup_sense_roller','Actuator Torque')
set_param([bdroot '/Track RL'],'popup_sense_roller','Actuator Torque')
set_param([bdroot '/Track RR'],'popup_sense_roller','Actuator Torque')

set_param([bdroot '/Track FL'],'popup_trackFrame','Fixed')
set_param([bdroot '/Track FR'],'popup_trackFrame','Fixed')
set_param([bdroot '/Track RL'],'popup_trackFrame','Fixed')
set_param([bdroot '/Track RR'],'popup_trackFrame','Fixed')

set_param(bdroot,'StopTime','14')
sim('sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld');

sm_excv_track_plot1loc(simlog_sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld,logsout_sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld);
sm_excv_track_plot2trq(simlog_sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld);
sm_excv_track_plot4xy(simlog_sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld);

% Save results for comparison plot
simlog_aRoll_fix = logsout_sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld.get('Body').Values.aRoll;
simlog_aPitch_fix = logsout_sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld.get('Body').Values.aPitch;

%% Simulation Results: Terrain Test, Revolute Frame Pivot
%%
%
% We repeat the same test but modify the track frames so that the rollers and
% idler can pivot with respect to the chassis.
%

set_param([bdroot '/Track FL'],'popup_sense_roller','Actuator Torque')
set_param([bdroot '/Track FR'],'popup_sense_roller','Actuator Torque')
set_param([bdroot '/Track RL'],'popup_sense_roller','Actuator Torque')
set_param([bdroot '/Track RR'],'popup_sense_roller','Actuator Torque')

set_param([bdroot '/Track FL'],'popup_trackFrame','Revolute')
set_param([bdroot '/Track FR'],'popup_trackFrame','Revolute')
set_param([bdroot '/Track RL'],'popup_trackFrame','Revolute')
set_param([bdroot '/Track RR'],'popup_trackFrame','Revolute')

set_param(bdroot,'StopTime','14')
sim('sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld');

% Save results for comparison plot
simlog_aRoll_rev = logsout_sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld.get('Body').Values.aRoll;
simlog_aPitch_rev = logsout_sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld.get('Body').Values.aPitch;

figure
temp_colororder = get(gca,'defaultAxesColorOrder');

subplot(2,1,1)
plot(simlog_aRoll_fix.Time, squeeze(simlog_aRoll_fix.Data)*180/pi, 'LineWidth', 1,...
    'Color',temp_colororder(3,:),'DisplayName','Fixed');
hold on
plot(simlog_aRoll_rev.Time, squeeze(simlog_aRoll_rev.Data)*180/pi, 'LineWidth', 1,...
    'Color',temp_colororder(4,:),'DisplayName','Revolute');
hold off

grid on
title('Roll Angles')
ylabel('Angle (deg)')

subplot(2,1,2)
plot(simlog_aPitch_fix.Time, squeeze(simlog_aPitch_fix.Data)*180/pi, 'LineWidth', 1,...
    'Color',temp_colororder(3,:),'DisplayName','Fixed');
hold on
plot(simlog_aPitch_rev.Time, squeeze(simlog_aPitch_rev.Data)*180/pi, 'LineWidth', 1,...
    'Color',temp_colororder(4,:),'DisplayName','Revolute');
hold off
grid on
title('Pitch Angles')
ylabel('Angle (deg)')
xlabel('Time (s)')
legend('Location','Best');

set_param([bdroot '/Track FL'],'popup_trackFrame','Fixed')
set_param([bdroot '/Track FR'],'popup_trackFrame','Fixed')
set_param([bdroot '/Track RL'],'popup_trackFrame','Fixed')
set_param([bdroot '/Track RR'],'popup_trackFrame','Fixed')


%% Simulation Results: Slope Test
%%
%
% Below are the simulation results from a test where the track is driven up
% a slope. The slope was defined using a MATLAB function.  This would let
% us easily sweep the grade of the slope to determine when the design would
% no longer meet requirements.  The terrain is defined using the
% <https://www.mathworks.com/help/releases/R2023a/sm/ref/gridsurface.html
% Grid Surface block>. 
%

Grid_Surface_Data_Slope(25, 9, 7.5, 1.5, 5, 0.5, 'plot');

set_param('sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld/Scene','LabelModeActiveChoice','Slope');
set_param([bdroot '/Steer On'],'Gain','0')
set_param([bdroot '/Track FL'],'popup_sense_roller','Actuator Torque')
set_param([bdroot '/Track FR'],'popup_sense_roller','Actuator Torque')
set_param([bdroot '/Track RL'],'popup_sense_roller','Actuator Torque')
set_param([bdroot '/Track RR'],'popup_sense_roller','Actuator Torque')

set_param(bdroot,'StopTime','14')
sim('sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld');

sm_excv_track_plot1loc(simlog_sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld,logsout_sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld);
sm_excv_track_plot2trq(simlog_sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld);


%% Simulation Results: Plane Test
%%
%
% Below are the simulation results from a test where the track is driven on
% a flat plane. The front tracks are steered using Ackermann steering
% angles, and the drive speed of all four tracks are modified based on the
% steering angle so that the tractor drives in a circular curve.
%

set_param([bdroot '/Steer On'],'Gain','1')
set_param('sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld/Scene','LabelModeActiveChoice','Plane');
set_param([bdroot '/Track FL'],'popup_sense_roller','Actuator Torque')
set_param([bdroot '/Track FR'],'popup_sense_roller','Actuator Torque')
set_param([bdroot '/Track RL'],'popup_sense_roller','Actuator Torque')
set_param([bdroot '/Track RR'],'popup_sense_roller','Actuator Torque')

set_param(bdroot,'StopTime','32')
sim('sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld');

sm_excv_track_plot1loc(simlog_sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld,logsout_sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld);
sm_excv_track_plot2trq(simlog_sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld);
sm_excv_track_plot4xy(simlog_sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld);

%%

close all
bdclose('sm_trackV_roller4_artic_IdlerArm_i2u0r3_ptcld');

##### SOURCE END #####
-->
</body>
</html>
